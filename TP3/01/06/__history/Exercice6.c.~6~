////////////////////////////////////////////////////////////////////////////////////////////
//Cahier des charges : On désire faire clignoter à 2Hz les 8 leds de la carte 8
//LEDS connectée au circuit PCF8574.
#include <18f4520.h>
#use delay(crystal=20MHz)
#use i2c(master, sda=PIN_C3, scl=PIN_C4)
unsigned int8 DATA0;
unsigned int8 TEMPO;
//F=2, T= 0.5s =500ms

void main()
{
output_float(PIN_C3); // mise en sortie collecteur ouvert de la broche RC...
output_float(PIN_C4); // mise en sortie collecteur ouvert de la broche RC...
DATA0 = 90; // donné à  stocker
// Ecriture en mÃ©moire Ã  l'adresse AD_MEM de la donnÃ©e DATA0

  //le code pour le cahier de charge 1 on doit le modifier de façon à l'adaputeur au codigo réel
while(true)
{
i2c_start();
i2c_write(0b01000000); //i2c_write(0b10100000);  // CONTROL BYTE = adresse 0b1010000 + 0 pour l'Ã©criture (=0xA0=160)
i2c_write(DATA0); // Ã©criture de la donnÃ©e Ã  l'adresse dÃ©finie auparavant
i2c_stop();
delay_ms(10);
output_d =i2c_write(0b01000000) ;
}
}
